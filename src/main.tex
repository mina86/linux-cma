\documentclass[runningheads,a4paper,twoside]{llncs}
\usepackage[plmath,MeX]{polski}
\usepackage[utf8]{inputenc}
\usepackage{bookman}
\usepackage[T1]{fontenc}
\usepackage{amssymb}  % must be loaded before babel[polish]
\usepackage[polish]{babel}
\usepackage{csquotes}
\setcounter{tocdepth}{3}

\renewcommand{\subparagraph}{}  % titlesec did not work without this
                                % definition and I~don't use
                                % subparagraphs anyway.
\usepackage{titlesec}
\titlelabel{\thetitle.\quad}
\usepackage{caption}
\captionsetup[algorithm]{labelfont=rm,labelsep=colon}

\DeclareQuoteStyle{polish}
	{\quotedblbase}{\textquotedblright}
	{\quotesinglbase}{\textquoteright}

\usepackage[backend=bibtex,sorting=nyt,style=numeric-comp]{biblatex}
\DeclareLanguageMapping{polish}{src/polish}
\addbibresource{../src/bib.bib} % bibtex is run from inside of build/ directory

\let\emptyset\varnothing

\usepackage{hyperref}
\usepackage{url}
\usepackage{breakurl}

\usepackage{wrapfig}
\usepackage{graphicx}
\usepackage{epstopdf}
\usepackage[subrefformat=parens,labelformat=parens]{subfig}

\usepackage{units}

\usepackage{color}
\definecolor{gray}{rgb}{0.5,0.5,0.5}

\usepackage{listings}
\usepackage{listingsutf8}
\usepackage{chngcntr}
\lstset{
  language=C,
  basicstyle=\small,
  numbers=left,
  numberstyle=\tiny\color{gray},
  stepnumber=1,
  numbersep=5pt,
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  tabsize=8,
  captionpos=b,
  breaklines=true,
  breakautoindent,
  columns=fixed,
  escapeinside={(*}{*)},
  morekeywords={inline,bool}
}
\renewcommand*\lstlistingname{Wydruk}
\renewcommand*\lstlistlistingname{Spis wydruków}
\def\code{\lstinline[basicstyle=\itshape]}

\usepackage{algorithm}
\makeatletter
\renewcommand*{\ALG@name}{Algorytm}
\makeatother

\usepackage[noend]{algpseudocode}
\renewcommand*{\algorithmicrequire}{\textbf{Wymaga:}}
\renewcommand*{\algorithmicensure}{\textbf{Zapewnia:}}
\renewcommand*{\algorithmiccomment}[1]{{\footnotesize \itshape \{ #1 \}}}
\renewcommand*{\algorithmicif}{\textbf{Jeżeli}}
\renewcommand*{\algorithmicthen}{}
\renewcommand*{\algorithmicelse}{\textbf{wpp.}}
\renewcommand*{\algorithmicfor}{\textbf{Dla}}
\renewcommand*{\algorithmicforall}{\textbf{Dla wszystkich}}
\renewcommand*{\algorithmicdo}{\textbf{}}
\renewcommand*{\algorithmicwhile}{\textbf{Dopóki}}
\renewcommand*{\algorithmicloop}{\textbf{Wykonuj}}
\renewcommand*{\algorithmicrepeat}{\textbf{Wykonuj}}
\renewcommand*{\algorithmicreturn}{\textbf{zwróć}}
\renewcommand*{\algorithmicuntil}{\textbf{aż}}
\renewcommand*{\algorithmicfunction}{\textbf{Funkcja}}
\renewcommand*{\algorithmicprocedure}{\textbf{Procedura}}

\clubpenalty=10000
\widowpenalty=10000
\brokenpenalty=10000
\sloppy

\newcommand*{\ang}[1]{ang.\ \textit{#1}}
\newcommand{\acc}[1]{\textsc{\lowercase{#1}}}
\newcommand{\keywords}[1]{\par\addvspace\baselineskip
\noindent\textbf{Słowa kluczowe:}\enspace\ignorespaces#1}

\title{Alokacja ciągłych fizycznie obszarów pamięci w~systemie Linux}
\author{Michał Nazarewicz}
\date{\today}
\institute{Instytut Informatyki Politechniki Warszawskiej,\\
\href{mailto:mina86@mina86.com}{\path|mina86@mina86.com|}}

\addtolength{\textheight}{1cm}

\begin{document}

\counterwithout{lstlisting}{chapter}

\mainmatter

\maketitle

\begin{abstract}
Praca opisuje problemy w~alolkacji ciągłych fizycznie obszarów pamięci
w~systemach opartych o~jądro Linux, szczególnie widoczne w~tak
zwanych systemach wbudowanych (np.\ telefonach komórkowych
i~tabletach), gdzie jednostka translacji adresów może być niedostępna
dla wielu podzespołów takich jak aparat fotograficzny, czy dekoder
wideo.

Praca przedstawia również często stosowane rozwiązania tych problemów
wykazując kłopoty z~nich wynikające, aby na koniec zaprezentować
proponowane przeze mnie rozwiązanie w~postaci alokator pamięci ciągłej
\ang{Contiguous Memory Allocator} (\acc{CMA}), który pozwala przydzielać
duże ciągłe fizycznie bufory, bez konieczności rezerwowania na
wyłączność dużych obszarów przy starcie systemu.

\keywords{pamięć ciągła fizycznie, Linux, zarządzanie pamięcią}
\end{abstract}

\input{src/chap-intro}
\input{src/chap-page-alloc}
\input{src/chap-implementation}
\input{src/chap-summary}

\appendix
\printbibliography

\end{document}
