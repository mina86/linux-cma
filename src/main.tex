\documentclass[a4paper,onecolumn,oneside,11pt]{mwrep}
\usepackage[plmath,MeX]{polski}
\usepackage[utf8]{inputenc}
\usepackage{bookman}
\usepackage[T1]{fontenc}
\usepackage{amssymb}  % must be loaded before babel[polish]
\usepackage[polish]{babel}
\usepackage{csquotes}

\DeclareQuoteStyle{polish}
	{\quotedblbase}{\textquotedblright}
	{\quotesinglbase}{\textquoteright}

\usepackage[backend=bibtex,sorting=nyt,style=numeric-comp]{biblatex}
\DeclareLanguageMapping{polish}{src/polish}
\addbibresource{../src/bib.bib} % bibtex is run from inside of build/ directory


\let\emptyset\varnothing

\usepackage{hyperref}
\usepackage{url}
\usepackage{breakurl}

\usepackage{wrapfig}
\usepackage{graphicx}
\usepackage{epstopdf}
\usepackage[subrefformat=parens,labelformat=parens]{subfig}

\usepackage{units}

\usepackage{color}
\definecolor{gray}{rgb}{0.5,0.5,0.5}

\makeatletter

\usepackage{listings}
\usepackage{listingsutf8}
\lstset{
  language=C,
  basicstyle=\small,
  numbers=left,
  numberstyle=\tiny\color{gray},
  stepnumber=1,
  numbersep=5pt,
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  tabsize=8,
  captionpos=b,
  breaklines=true,
  breakautoindent,
  columns=fixed,
  escapeinside={(*}{*)},
  morekeywords={inline,bool}
}
\renewcommand*\lstlistingname{Wydruk}
\renewcommand*\lstlistlistingname{Spis wydruków}
\def\code{\lstinline[basicstyle=\itshape]}

\usepackage[chapter]{algorithm}
\renewcommand*{\ALG@name}{Algorytm}
\renewcommand*{\listalgorithmname}{Spis algorytmów}
\renewcommand*{\thealgorithm}{\arabic{chapter}.\arabic{algorithm}.}

\usepackage[noend]{algpseudocode}
\renewcommand*{\algorithmicrequire}{\textbf{Wymaga:}}
\renewcommand*{\algorithmicensure}{\textbf{Zapewnia:}}
\renewcommand*{\algorithmiccomment}[1]{{\footnotesize \it \{ #1 \}}}
\renewcommand*{\algorithmicif}{\textbf{Jeżeli}}
\renewcommand*{\algorithmicthen}{}
\renewcommand*{\algorithmicelse}{\textbf{wpp.}}
\renewcommand*{\algorithmicfor}{\textbf{Dla}}
\renewcommand*{\algorithmicforall}{\textbf{Dla wszystkich}}
\renewcommand*{\algorithmicdo}{\textbf{}}
\renewcommand*{\algorithmicwhile}{\textbf{Dopóki}}
\renewcommand*{\algorithmicloop}{\textbf{Wykonuj}}
\renewcommand*{\algorithmicrepeat}{\textbf{Wykonuj}}
\renewcommand*{\algorithmicreturn}{\textbf{zwróć}}
\renewcommand*{\algorithmicuntil}{\textbf{aż}}
\renewcommand*{\algorithmicfunction}{\textbf{Funkcja}}
\renewcommand*{\algorithmicprocedure}{\textbf{Procedura}}

\renewcommand*\lstlistoflistings{%
    \section*{\lstlistlistingname}
    {\secondarysize
    \gdef\previous@toc@level{-1000}%
    \@starttoc{lol}}%
    \if@restonecol\twocolumn\fi
}
\renewcommand*\l@lstlisting{\mw@tocline{1}{0pt}{2.5em}}
\renewcommand*\listoffigures{%
    \section*{\listfigurename}
    {\secondarysize
     \renewcommand*\addvspace[1]{}
    \gdef\previous@toc@level{-1000}%
    \@starttoc{lof}}%
    \if@restonecol\twocolumn\fi
}
\renewcommand*\listofalgorithms{%
    \section*{\listalgorithmname}
    {\secondarysize
    \gdef\previous@toc@level{-1000}%
    \@starttoc{loa}}%
    \if@restonecol\twocolumn\fi
}
\newcommand*\l@algorithm{\mw@tocline{1}{0pt}{2.5em}}

\makeatother

\usepackage[top=2.5cm,bottom=2.5cm,inner=2cm,outer=3cm]{geometry}

\clubpenalty=10000
\widowpenalty=10000
\brokenpenalty=10000
\sloppy

\tolerance4500
\pretolerance250
\hfuzz=1.5pt
\hbadness1450

\renewcommand*{\chaptermark}[1]{\markboth{\scshape\small\bfseries \
#1}{\small\bfseries \ #1}}
\renewcommand*{\sectionmark}[1]{\markboth{\scshape\small\bfseries\thesection.\
#1}{\small\bfseries\thesection.\ #1}}
\newcommand*{\headrulewidth}{0.5pt}
\newcommand*{\footrulewidth}{0.pt}
\pagestyle{uheadings}

\newcommand*{\TODO}[1]{{\setlength{\fboxsep}{0pt}\footnotesize (\colorbox{red}{TODO}: #1)}}
\newcommand*{\ang}[1]{ang.\ {\it #1}}

\usepackage{titling}
\title{Alokacja ciągłych fizycznie obszarów pamięci w~systemie Linux}
\author{Michał Nazarewicz}
\date{\today}
\newcommand*{\theengishtitle}{Physically contiguous memory allocation in Linux-based systems}

\begin{document}

\pagenumbering{roman}
\renewcommand*{\baselinestretch}{1.0}
\raggedbottom

\input{src/title}

\tableofcontents

\newpage
\pagenumbering{arabic}
\setcounter{page}{1}

\input{src/chap-intro}
\input{src/chap-usage}
\input{src/chap-page-alloc}
\input{src/chap-implementation}

\appendix
\input{src/appendices}

\end{document}
