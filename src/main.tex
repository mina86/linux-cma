% Copyright (c) 2012 by Michał Nazarewicz <mina86@mina86.com>
% Distributed under the terms of the Creative Commons
% Attribution-ShareAlike 3.0 Unported (CC BY-SA 3.0) license.
\documentclass{beamer}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage[polish]{babel}
\usepackage{pgf}
\usepackage{units}
\usepackage{lmodern}
\usepackage{color}
\usepackage{listings}
\usepackage{amsmath}
\usepackage[super]{nth}

\newcommand{\notimplies}{%
  \mathrel{{\ooalign{\hidewidth$\not\phantom{=}$\hidewidth\cr$\implies$}}}}

\definecolor{gray}{RGB}{102,102,102}
\definecolor{darkgreen}{RGB}{0,128,0}

\lstset{
  language=C,
  basicstyle=\small\rmfamily,
  numbers=left,
  numberstyle=\tiny\color{gray},
  stepnumber=1,
  numbersep=5pt,
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  tabsize=8,
  captionpos=b,
  breaklines=true,
  breakautoindent,
  columns=fullflexible,
  morekeywords={inline,bool},
  keywordstyle=\color{blue}\bfseries,
  commentstyle=\color{darkgreen}\itshape,
  stringstyle=\color{red}\ttfamily
}
\lstdefinelanguage{diff}{
  morecomment=[f][\color{blue}]{@@},     % group identifier
  morecomment=[f][\color{red}]-,         % deleted lines
  morecomment=[f][\color{darkgreen}]+,   % added lines
  morecomment=[f][\color{gray}]{---},    % Diff header lines (must appear after +,-)
  morecomment=[f][\color{gray}]{+++},
}
\def\code{\lstinline[basicstyle=\rmfamily]}

\usetheme{Frankfurt}

% Shrink the margins slightly.
\setbeamersize{text margin left=5mm}
\setbeamersize{text margin right=5mm}

% Remove navigation symbols. They are never used anyway.
\setbeamertemplate{navigation symbols}{}

% Make more room on notes pages (when used).
\setbeamertemplate{note page}[plain]
\setbeamerfont{note page}{size=\scriptsize}

% gray footnotes, no rule.
% FIXME: This is broken. The gray continues onto subsequent slides.
% Note: footnotes are generally a bad idea in presentations.
\setbeamercolor{footnote mark}{fg=gray}
\renewcommand{\footnoterule}{}

\setbeamertemplate{footline}{}


\newcommand\theauthor{Michał Nazarewicz}
\newcommand\theemail{mina86@mina86.com}
\title{Continuous Memory Allocator}
\subtitle{Alokacja ciągłych fizycznie obszarów pamięci w~systemie Linux}
\author[\theauthor]{%
  \texorpdfstring{\theauthor\vskip 8pt%
    \scriptsize\href{mailto:\theemail}{\theemail}}{%
    \theauthor}}
\institute{Instytut Informatyki Politechniki Warszawskiej}
\date{\today}

\setbeamerfont{institute}{size={\fontsize{10pt}{12pt}}}
\setbeamerfont{date}{size={\fontsize{8pt}{10pt}}}


\begin{document}

\begin{frame}
  \titlepage
\end{frame}

\begin{frame}
  \frametitle{Zarys prezentacji}
  \tableofcontents
\end{frame}

\input{src/content}

\appendix

\section*{Dziękuję!}
\begin{frame}
  \vskip 7em
  \begin{center}
    {\Huge Dziękuję!}
  \end{center}

  \vskip 7em

  \begin{itemize}
  \item \theauthor
  \item \href{mailto:\theemail}{\theemail}
  \end{itemize}
\end{frame}

\end{document}
