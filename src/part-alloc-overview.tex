% Copyright (c) 2012 by Michał Nazarewicz <mina86@mina86.com>
% Distributed under the terms of the Creative Commons
% Attribution-ShareAlike 3.0 Unported (CC BY-SA 3.0) license.

\subsection{Przegląd alokatorów}

\begin{frame}
  \frametitle{Alokatory pamięci Linuksa}

  \begin{center}
    \includegraphics[width=\textwidth]{build/linux-allocators--base.eps}
  \end{center}
\end{frame}

\begin{frame}
  \frametitle{\code{kmalloc}, \code{vmalloc} itp.}

  \begin{itemize}
  \item \code{kmalloc}
    \begin{itemize}
    \item Najczęściej stosowany alokator.
    \item Ciągłe fizycznie obszary $\le$
      \unit[4]{MiB}\textcolor{gray}{$^\dagger$}.
    \item Korzysta z~alokatora stron.
    \end{itemize}

  \item \code{vmalloc}
    \begin{itemize}
    \item Alokacje nieciągłe fizycznie.
    \item Korzysta z~alokatora stron.
    \end{itemize}

  \item \code{kmem_cache}
    \begin{itemize}
    \item Alokacja obszarów o~z~góry zadanym rozmiarze.
    \item Inny interfejs dla kmalloc().
    \end{itemize}

  \item \code{mempool}
    \begin{itemize}
    \item Interfejs do tworzenia podręcznych pul buforów.
    \item Zazwyczaj korzysta z~kmem\_cache i~kmalloc().
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Alokator czasu startu systemu}

  \begin{itemize}
  \item Memblock jest aktywny przy starcie systemu.
  \item Przechowuje listę dostępnych obszarów pamięci RAM.
  \item Prosty interfejs do alokowania buforów.
  \item Możliwe jest rezerwowanie dużych bloków.
  \item Pozostała wolna pamięć jest przekazywana do alokatora stron.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Alokator przeznaczony dla urządzeń}

  \begin{itemize}
  \item DMA API umożliwia alokowanie buforów DMA.
  \item Są one dostępne dla urządzeń na płycie głównej.
    \begin{itemize}
    \item W~szczególności dla kontrolera DMA.
    \end{itemize}
  \item Implementacja zależna od architektury.
  \item Często korzysta z~alokatora stron.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Alokatory pamięci Linuksa, II}

  \begin{center}
   \includegraphics[width=\textwidth]{build/linux-allocators--important.eps}
  \end{center}
\end{frame}
